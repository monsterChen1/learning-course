<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>首页</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
</head>
<body class="application application-offset sidenav-pinned ready">
    <div class="container-fluid container-application">
        <div class="sidenav show" id="sidenav-main">
            <div class="sidenav-header d-flex align-items-center">
                <a class="navbar-brand" href="./index.html">
                    <span class="login">·Monster·</span>
                </a>
            </div>
            <div class="sidenav-user d-flex flex-column align-items-center justify-content-between text-center">
                <div>
                    <a href="#" class="avatar rounded-circle avatar-xl">
                        <img src="" alt="">
                    </a>
                    <div class="mt-5">
                        <h5 class="mb-0 text-white">黑马前端</h5>
                        <span class="d-block text-sm text-white opacity-8 mb-3">数据可视化</span>
                        <a href="javascript:;" class="btn btn-sm btn-white btn-icon rounded-pill shadow hover-translate-y-n3">
                            <span class="btn-inner--text">学前端来黑马</span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="nav-application clearfix">
                <a href="./index.html" class="btn btn-square text-sm active">
                    <span class="btn-inner--icon d-block"><i class="bi bi-house bi-2x"></i></span>
                    <span class="btn-inner--icon d-block pt-2">首页</span>
                </a>
                <a href="./student.html" class="btn btn-square text-sm active">
                    <span class="btn-inner--icon d-block"><i class="bi bi-people bi-2x"></i></span>
                    <span class="btn-inner--icon d-block pt-2">学生</span>
                </a>
                <a href="./student.html" class="btn btn-square text-sm active">
                    <span class="btn-inner--icon d-block"><i class="bi bi-columns bi-2x"></i></span>
                    <span class="btn-inner--icon d-block pt-2">排版</span>
                </a>
                <a href="./student.html" class="btn btn-square text-sm active">
                    <span class="btn-inner--icon d-block"><i class="bi bi-files bi-2x"></i></span>
                    <span class="btn-inner--icon d-block pt-2">资料</span>
                </a>
                <a href="./student.html" class="btn btn-square text-sm active">
                    <span class="btn-inner--icon d-block"><i class="bi bi-receipt bi-2x"></i></span>
                    <span class="btn-inner--icon d-block pt-2">就业</span>
                </a>
                <a href="./student.html" class="btn btn-square text-sm active">
                    <span class="btn-inner--icon d-block"><i class="bi bi-gear bi-2x"></i></span>
                    <span class="btn-inner--icon d-block pt-2">设置</span>
                </a>
            </div>
            <div class="card bg-gradient-warning" style="background-color: blue;">
                <div class="card-body">
                    <h5 class="text-white">哈喽，朋友！</h5>
                    <p class="text-white mb-4">为什么不现在开始学习前端，创造一些令人惊叹的东西呢？</p>
                    <a href="http://itcast.cn" class="btn btn-sm btn-block btn-white rounded-pill" target="_blank">Get started</a>
                </div>
            </div>
        </div>
        <div class="main-content position-relative">
            <nav class="navbar navbar-main navbar-expend-lg navbar-dark navbar-border" id="navbar-main">
                <div class="collapse navbar-collapse navbar-collapse-fade" id="navbar-main-collapse">
                    <ul class="navbar-nav align-items-lg-center">
                        <li class="nav-item">
                            <a class="nav-link pl-log-0" href="./index.html"> 首页 </a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>

    <!-- toast -->
    <div class="position-fixed top-0 start-50 pt-4" style="z-index: 999;transform: translateX(-50%);">
        <div id="myToast" class="toast bg-rgba">
            <div class="toast-body">提示消息</div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/form-serialize@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./js/common.js"></script>

    <script>
        let toastBox = document.querySelector('#myToast');
        const toast = new bootstrap.Toast(toastBox, {
            animate: true,
            autohide: true,
            delay: 3000
        });

        // 权限拦截
        let token = localStorage.getItem('token');
        if(!token){
            toastBox.innerHTML = '请先登录!';
            toast.show();
            setTimeout(() => {
                location.href = './login.html';
            }, 2000);
        }

        // 显示登录用户名
        let uname = localStorage.getItem('username');
        // document.querySelector('#uName').innerHTML = uname;

        // 退出登录
        // document.querySelector('#logout').addEventListener('click', () => {
        //     localStorage.clear();
        //     location.href = './login.html';
        // });

        document.addEventListener('DOMContentLoaded', async () => {
            let res = await axios({
                url: '/dashboard',
                headers: {
                    'Authorization': token
                },
                method: 'GET'
            });
            console.log(res);
        });
    </script>
</body>
</html>